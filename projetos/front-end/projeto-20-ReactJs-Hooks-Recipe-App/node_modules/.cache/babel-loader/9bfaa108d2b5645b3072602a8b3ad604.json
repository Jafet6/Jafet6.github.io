{"ast":null,"code":"var _jsxFileName = \"/home/jafet/projetos/sd-03-recipes-app-03/src/pages/RecipesInProgress/RecipesInProgressPage/RecipesInProgressPage.js\";\nimport React, { useContext, useState, useEffect } from 'react'; // import { DetailsPageContext } from '../DetailsPage/DetailsPageProvider';\n\nimport { RecipeInProgressContext } from '../RecipeInProgressProvider';\nimport { fetchMealById } from '../../../services/theMealAPI';\nimport { fetchDrinkById } from '../../../services/theCockTailAPI';\n\nconst RecipesInProgressPage = props => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const {\n    recipeData,\n    setRecipeDataFunc\n  } = useContext(RecipeInProgressContext);\n  console.log(props);\n  const {\n    location: {\n      pathname\n    },\n    match: {\n      params: {\n        id\n      }\n    }\n  } = props;\n\n  const apiRequestSucceedMeal = ({\n    meals\n  }) => {\n    setRecipeDataFunc(meals[0]);\n    return setIsLoading(false);\n  };\n\n  const apiRequestSucceedDrink = ({\n    drinks\n  }) => {\n    setRecipeDataFunc(drinks[0]);\n    return setIsLoading(false);\n  };\n\n  const apiRequestFailure = ({\n    message\n  }) => {\n    setErrorMessage(message);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const apiRequestFunction = (callback, recipeId) => {\n      setIsLoading(true);\n\n      if (callback === fetchMealById) {\n        return callback(recipeId).then(apiRequestSucceedMeal, apiRequestFailure);\n      }\n\n      return callback(recipeId).then(apiRequestSucceedDrink, apiRequestFailure);\n    };\n\n    if (pathname.includes('/comidas')) {\n      apiRequestFunction(fetchMealById, id);\n    } else {\n      apiRequestFunction(fetchDrinkById, id);\n    }\n  }, [pathname]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, \"Hello\");\n};\n\nexport default RecipesInProgressPage;","map":{"version":3,"sources":["/home/jafet/projetos/sd-03-recipes-app-03/src/pages/RecipesInProgress/RecipesInProgressPage/RecipesInProgressPage.js"],"names":["React","useContext","useState","useEffect","RecipeInProgressContext","fetchMealById","fetchDrinkById","RecipesInProgressPage","props","isLoading","setIsLoading","errorMessage","setErrorMessage","recipeData","setRecipeDataFunc","console","log","location","pathname","match","params","id","apiRequestSucceedMeal","meals","apiRequestSucceedDrink","drinks","apiRequestFailure","message","apiRequestFunction","callback","recipeId","then","includes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD,C,CACA;;AACA,SAASC,uBAAT,QAAwC,6BAAxC;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,SAASC,cAAT,QAA+B,kCAA/B;;AAEA,MAAMC,qBAAqB,GAAIC,KAAD,IAAW;AACvC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACS,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAAEW,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAoCb,UAAU,CAACG,uBAAD,CAApD;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACA,QAAM;AAAES,IAAAA,QAAQ,EAAE;AAAEC,MAAAA;AAAF,KAAZ;AAA0BC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AAAV;AAAjC,MAAwDb,KAA9D;;AAEA,QAAMc,qBAAqB,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAe;AAC3CT,IAAAA,iBAAiB,CAACS,KAAK,CAAC,CAAD,CAAN,CAAjB;AACA,WAAOb,YAAY,CAAC,KAAD,CAAnB;AACD,GAHD;;AAKA,QAAMc,sBAAsB,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAgB;AAC7CX,IAAAA,iBAAiB,CAACW,MAAM,CAAC,CAAD,CAAP,CAAjB;AACA,WAAOf,YAAY,CAAC,KAAD,CAAnB;AACD,GAHD;;AAKA,QAAMgB,iBAAiB,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAiB;AACzCf,IAAAA,eAAe,CAACe,OAAD,CAAf;AACAjB,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAHD;;AAKAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMyB,kBAAkB,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACjDpB,MAAAA,YAAY,CAAC,IAAD,CAAZ;;AACA,UAAImB,QAAQ,KAAKxB,aAAjB,EAAgC;AAC9B,eAAOwB,QAAQ,CAACC,QAAD,CAAR,CAAmBC,IAAnB,CAAwBT,qBAAxB,EAA+CI,iBAA/C,CAAP;AACD;;AACD,aAAOG,QAAQ,CAACC,QAAD,CAAR,CAAmBC,IAAnB,CAAwBP,sBAAxB,EAAgDE,iBAAhD,CAAP;AACD,KAND;;AAOA,QAAIR,QAAQ,CAACc,QAAT,CAAkB,UAAlB,CAAJ,EAAmC;AACjCJ,MAAAA,kBAAkB,CAACvB,aAAD,EAAgBgB,EAAhB,CAAlB;AACD,KAFD,MAEO;AACLO,MAAAA,kBAAkB,CAACtB,cAAD,EAAiBe,EAAjB,CAAlB;AACD;AACF,GAbQ,EAaN,CAACH,QAAD,CAbM,CAAT;AAeA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF;AAKD,CA1CD;;AA4CA,eAAeX,qBAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\n// import { DetailsPageContext } from '../DetailsPage/DetailsPageProvider';\nimport { RecipeInProgressContext } from '../RecipeInProgressProvider';\nimport { fetchMealById } from '../../../services/theMealAPI';\nimport { fetchDrinkById } from '../../../services/theCockTailAPI';\n\nconst RecipesInProgressPage = (props) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const { recipeData, setRecipeDataFunc } = useContext(RecipeInProgressContext);\n  console.log(props);\n  const { location: { pathname }, match: { params: { id } } } = props;\n\n  const apiRequestSucceedMeal = ({ meals }) => {\n    setRecipeDataFunc(meals[0]);\n    return setIsLoading(false);\n  };\n\n  const apiRequestSucceedDrink = ({ drinks }) => {\n    setRecipeDataFunc(drinks[0]);\n    return setIsLoading(false);\n  };\n\n  const apiRequestFailure = ({ message }) => {\n    setErrorMessage(message);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const apiRequestFunction = (callback, recipeId) => {\n      setIsLoading(true);\n      if (callback === fetchMealById) {\n        return callback(recipeId).then(apiRequestSucceedMeal, apiRequestFailure);\n      }\n      return callback(recipeId).then(apiRequestSucceedDrink, apiRequestFailure);\n    }\n    if (pathname.includes('/comidas')) {\n      apiRequestFunction(fetchMealById, id);\n    } else {\n      apiRequestFunction(fetchDrinkById, id);\n    }\n  }, [pathname])\n\n  return (\n    <div>\n      Hello\n    </div>\n  );\n};\n\nexport default RecipesInProgressPage;\n"]},"metadata":{},"sourceType":"module"}