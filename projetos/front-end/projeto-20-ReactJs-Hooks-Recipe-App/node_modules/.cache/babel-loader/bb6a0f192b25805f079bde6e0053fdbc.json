{"ast":null,"code":"var _jsxFileName = \"/home/jafet/projetos/sd-03-recipes-app-03/src/pages/DetailsPage/DetailsMealsPage/DetailsMealsPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport MealsComponent from './MealsComponent';\nimport { fetchMealById } from '../../../services/theMealAPI';\nimport { fetchDrinkById } from '../../../services/theCockTailAPI';\n\nconst destructureMeal = data => {\n  const meals = ({\n    strMeal,\n    strCategory,\n    strMealThumb,\n    strYoutube,\n    strInstructions,\n    idMeal\n  } = data);\n  return meals;\n};\n\nconst destructureDrinks = data => {\n  const drinks = ({\n    strDrink,\n    strAlcoholic,\n    strDrinkThumb,\n    strInstructions,\n    idDrink\n  } = data);\n  return drinks;\n};\n\nconst DetailsMealsPage = props => {\n  const [data, setData] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    match: {\n      params: {\n        id\n      }\n    },\n    location: {\n      pathname\n    }\n  } = props;\n\n  const apiRequestSucceedMeal = ({\n    meals\n  }) => {\n    setData(meals[0]);\n    setIsLoading(false);\n  };\n\n  const apiRequestSucceedDrink = ({\n    drinks\n  }) => {\n    setData(drinks[0]);\n    setIsLoading(false);\n  };\n\n  const apiRequestFailure = ({\n    message\n  }) => {\n    setErrorMessage(message);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const apiRequestFunction = (callback, id) => {\n      setIsLoading(true);\n\n      if (callback === fetchMealById) {\n        return callback(id).then(apiRequestSucceedMeal, apiRequestFailure);\n      }\n\n      return callback(id).then(apiRequestSucceedDrink, apiRequestFailure);\n    };\n\n    if (pathname.includes('/comidas')) {\n      apiRequestFunction(fetchMealById, id);\n    } else {\n      apiRequestFunction(fetchDrinkById, id);\n    }\n  }, []);\n\n  const dataDestructure = data => data.idMeal ? destructureMeal(data) : destructureDrinks(data);\n\n  if (isLoading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, \"Loading...\");\n  if (errorMessage !== '') return /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 35\n    }\n  }, \"Algum Error Ocorreu\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(MealsComponent, {\n    data: dataDestructure(data),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }));\n};\n\nexport default DetailsMealsPage;\nDetailsMealsPage.propTypes = {\n  match: PropTypes.objectOf(PropTypes.any).isRequired\n}; // DetailsMealsPage.defaultProps = {\n//   id: '',\n// }","map":{"version":3,"sources":["/home/jafet/projetos/sd-03-recipes-app-03/src/pages/DetailsPage/DetailsMealsPage/DetailsMealsPage.js"],"names":["React","useEffect","useState","PropTypes","MealsComponent","fetchMealById","fetchDrinkById","destructureMeal","data","meals","strMeal","strCategory","strMealThumb","strYoutube","strInstructions","idMeal","destructureDrinks","drinks","strDrink","strAlcoholic","strDrinkThumb","idDrink","DetailsMealsPage","props","setData","errorMessage","setErrorMessage","isLoading","setIsLoading","match","params","id","location","pathname","apiRequestSucceedMeal","apiRequestSucceedDrink","apiRequestFailure","message","apiRequestFunction","callback","then","includes","dataDestructure","propTypes","objectOf","any","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport MealsComponent from './MealsComponent';\nimport { fetchMealById } from '../../../services/theMealAPI'\nimport { fetchDrinkById } from '../../../services/theCockTailAPI';\n\n\nconst destructureMeal = (data) => {\n  const meals = { strMeal, strCategory, strMealThumb, strYoutube, strInstructions, idMeal } = data\n  return meals\n}\n\nconst destructureDrinks = (data) => {\n  const drinks =  { strDrink, strAlcoholic, strDrinkThumb, strInstructions, idDrink } = data;\n  return drinks;\n}\n\nconst DetailsMealsPage = (props) => {\n  const [data, setData] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { match: { params: { id } }, location: { pathname } } = props;\n\n  const apiRequestSucceedMeal = ({ meals }) => {\n    setData(meals[0]);\n    setIsLoading(false);\n  };\n\n  const apiRequestSucceedDrink = ({ drinks }) => {\n    setData(drinks[0]);\n    setIsLoading(false);\n  };\n\n  const apiRequestFailure = ({ message }) => {\n    setErrorMessage(message);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const apiRequestFunction = (callback, id) => {\n      setIsLoading(true);\n      if (callback === fetchMealById) {\n        return callback(id).then(apiRequestSucceedMeal, apiRequestFailure);\n      }\n      return callback(id).then(apiRequestSucceedDrink, apiRequestFailure);\n    };\n    if (pathname.includes('/comidas')) {\n      apiRequestFunction(fetchMealById, id);\n    } else {\n      apiRequestFunction(fetchDrinkById, id);\n    }\n  }, []);\n\n  const dataDestructure = (data) => data.idMeal ? destructureMeal(data) : destructureDrinks(data);\n\n  if (isLoading) return <div>Loading...</div>;\n  if (errorMessage !== '') return <span>Algum Error Ocorreu</span>;\n  return <div><MealsComponent data={dataDestructure(data)} /></div>;\n};\n\nexport default DetailsMealsPage;\n\nDetailsMealsPage.propTypes = {\n  match: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\n// DetailsMealsPage.defaultProps = {\n//   id: '',\n// }\n"]},"metadata":{},"sourceType":"module"}