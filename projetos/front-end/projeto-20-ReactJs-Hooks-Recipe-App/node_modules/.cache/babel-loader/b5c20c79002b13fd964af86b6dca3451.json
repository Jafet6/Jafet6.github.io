{"ast":null,"code":"var _jsxFileName = \"/home/jafet/projetos/sd-03-recipes-app-03/src/components/Categories/ListCategories.js\";\nimport React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport FoodContext from '../../pages/FoodMainPage/Context/FoodContext';\nimport { fetchDrinkByCategoryButton } from '../../services/theCockTailAPI';\nimport { fetchCategoryMealsButton } from '../../services/theMealAPI';\nimport './ListCategories.css';\nimport ShareButton from '../Share/ShareButton';\nimport FavoriteButton from '../Favorite/FavoriteButton';\n\nconst handleCategories = (category, fetchCallBack, setCallBack) => {\n  fetchCallBack(category).then(err => err, response => setCallBack(Object.values(response)[0]));\n};\n\nconst handleAllCategory = (callback, data, category, allCategories) => {\n  console.log(allCategories);\n\n  if (allCategories === category || category === 'All') {\n    callback(data);\n    return true;\n  }\n\n  return false;\n};\n\nconst filterByCategory = (category, categoryType, untils) => {\n  const {\n    setMealsData,\n    setDrinksData,\n    allCategories,\n    setAllCategories,\n    drinks,\n    meals\n  } = untils;\n\n  if (categoryType === 'drink') {\n    if (handleAllCategory(setDrinksData, drinks, category, allCategories.category)) {\n      return setAllCategories('');\n    }\n\n    setAllCategories({\n      category\n    });\n    console.log(category, allCategories.category);\n    handleCategories(category, fetchDrinkByCategoryButton, setDrinksData);\n  }\n\n  if (handleAllCategory(setMealsData, meals, category, allCategories.category)) {\n    return setAllCategories('');\n  }\n\n  setAllCategories({\n    category\n  });\n  handleCategories(category, fetchCategoryMealsButton, setMealsData);\n  return null;\n};\n\nconst ListCategories = ({\n  strCategories,\n  type\n}) => {\n  const {\n    setMealsData,\n    setDrinksData,\n    dataBase: {\n      drinks,\n      meals\n    }\n  } = useContext(FoodContext);\n  const [allCategories, setAllCategories] = useState({\n    category: ''\n  });\n  const untils = {\n    setMealsData,\n    setDrinksData,\n    allCategories,\n    setAllCategories,\n    drinks,\n    meals\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, strCategories.slice(0, 6).map(({\n    strCategory\n  }) => /*#__PURE__*/React.createElement(\"button\", {\n    className: \"categoryBtn\",\n    onClick: () => filterByCategory(strCategory, type, untils),\n    \"data-testid\": `${strCategory}-category-filter`,\n    key: strCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, `${strCategory}`)));\n};\n\nListCategories.propTypes = {\n  strCategories: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  type: PropTypes.string.isRequired\n};\nexport default ListCategories;","map":{"version":3,"sources":["/home/jafet/projetos/sd-03-recipes-app-03/src/components/Categories/ListCategories.js"],"names":["React","useContext","useState","PropTypes","FoodContext","fetchDrinkByCategoryButton","fetchCategoryMealsButton","ShareButton","FavoriteButton","handleCategories","category","fetchCallBack","setCallBack","then","err","response","Object","values","handleAllCategory","callback","data","allCategories","console","log","filterByCategory","categoryType","untils","setMealsData","setDrinksData","setAllCategories","drinks","meals","ListCategories","strCategories","type","dataBase","slice","map","strCategory","propTypes","arrayOf","object","isRequired","string"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport FoodContext from '../../pages/FoodMainPage/Context/FoodContext';\nimport { fetchDrinkByCategoryButton } from '../../services/theCockTailAPI';\nimport { fetchCategoryMealsButton } from '../../services/theMealAPI';\nimport './ListCategories.css';\nimport ShareButton from '../Share/ShareButton';\nimport FavoriteButton from '../Favorite/FavoriteButton';\nconst handleCategories = (category, fetchCallBack, setCallBack) => {\n  fetchCallBack(category)\n    .then((err) => err, (response) => setCallBack(Object.values(response)[0]));\n};\n\nconst handleAllCategory = (callback, data, category, allCategories) => {\n  console.log(allCategories);\n  if (allCategories === category || category === 'All') {\n    callback(data);\n    return true;\n  }\n  return false;\n};\n\nconst filterByCategory = (category, categoryType, untils) => {\n  const { setMealsData, setDrinksData, allCategories, setAllCategories, drinks, meals } = untils;\n  if (categoryType === 'drink') {\n    if (handleAllCategory(setDrinksData, drinks, category, allCategories.category)) {\n      return setAllCategories('');\n    }\n    setAllCategories({ category });\n    console.log(category, allCategories.category);\n    handleCategories(category, fetchDrinkByCategoryButton, setDrinksData);\n  }\n  if (handleAllCategory(setMealsData, meals, category, allCategories.category)) {\n    return setAllCategories('');\n  }\n  setAllCategories({ category });\n  handleCategories(category, fetchCategoryMealsButton, setMealsData);\n  return null;\n};\n\nconst ListCategories = ({ strCategories, type }) => {\n  const { setMealsData, setDrinksData, dataBase: { drinks, meals } } = useContext(FoodContext);\n  const [allCategories, setAllCategories] = useState({ category: '' });\n  const untils = {\n    setMealsData,\n    setDrinksData,\n    allCategories,\n    setAllCategories,\n    drinks,\n    meals,\n  };\n\n  return (\n    <div>\n      {strCategories.slice(0, 6).map(({ strCategory }) => (\n        <button\n          className=\"categoryBtn\"\n          onClick={() => filterByCategory(strCategory, type, untils)}\n          data-testid={`${strCategory}-category-filter`} key={strCategory}\n        >\n          {`${strCategory}`}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nListCategories.propTypes = {\n  strCategories: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default ListCategories;\n"]},"metadata":{},"sourceType":"module"}