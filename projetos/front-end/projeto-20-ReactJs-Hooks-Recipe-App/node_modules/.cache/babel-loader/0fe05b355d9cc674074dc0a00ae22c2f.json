{"ast":null,"code":"var _jsxFileName = \"/home/jafet/projetos/sd-03-recipes-app-03/src/components/Favorite/FavoriteButton.js\";\nimport React, { useState, useEffect } from 'react';\nimport whiteHeartIcon from \"../../images/whiteHeartIcon.svg\";\nimport blackHeartIcon from \"../../images/blackHeartIcon.svg\";\n\nconst recipeObject = (recipe, type) => {\n  if (type === 'meal') {\n    return {\n      id: recipe.idMeal,\n      type,\n      area: recipe.strArea,\n      category: recipe.strCategory,\n      alcoholicOrNot: '',\n      name: recipe.strMeal,\n      image: recipe.strMealThumb\n    };\n  } else {\n    return {\n      id: recipe.idDrink,\n      type,\n      area: recipe.strArea,\n      category: recipe.strCategory,\n      alcoholicOrNot: recipe.strAlcoholic,\n      name: recipe.strDrink,\n      image: recipe.strDrinkThumb\n    };\n  }\n};\n\nconst FavoriteButton = ({\n  recipe,\n  type\n}) => {\n  const [NotFavorited, setNotFavorited] = useState(true);\n  const [srcIcon, setSrcIcon] = useState(whiteHeartIcon);\n  useEffect(() => {\n    if (!localStorage.getItem('favoriteRecipes')) {\n      localStorage.setItem('favoriteRecipes', JSON.stringify([]));\n    }\n  }, []);\n\n  const addToLocalStorage = () => {\n    const recipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newRecipe = recipes.concat(recipeObject(recipe, type));\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newRecipe));\n    setSrcIcon(blackHeartIcon);\n    return null;\n  };\n\n  const removeLocalStorage = () => {\n    let recipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newRecipe = recipes.filter(element => element.id !== recipe.idMeal);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newRecipe));\n    setSrcIcon(whiteHeartIcon);\n    return null;\n  };\n\n  const handleFavorite = () => {\n    NotFavorited ? addToLocalStorage() : removeLocalStorage();\n    setNotFavorited(currentState => !currentState);\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => handleFavorite(),\n    \"data-testid\": \"favorite-btn\",\n    src: srcIcon,\n    alt: \"Icone para favoritar receita\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  });\n};\n\nexport default FavoriteButton;","map":{"version":3,"sources":["/home/jafet/projetos/sd-03-recipes-app-03/src/components/Favorite/FavoriteButton.js"],"names":["React","useState","useEffect","recipeObject","recipe","type","id","idMeal","area","strArea","category","strCategory","alcoholicOrNot","name","strMeal","image","strMealThumb","idDrink","strAlcoholic","strDrink","strDrinkThumb","FavoriteButton","NotFavorited","setNotFavorited","srcIcon","setSrcIcon","whiteHeartIcon","localStorage","getItem","setItem","JSON","stringify","addToLocalStorage","recipes","parse","newRecipe","concat","blackHeartIcon","removeLocalStorage","filter","element","handleFavorite","currentState"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport whiteHeartIcon from '../../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../../images/blackHeartIcon.svg';\n\nconst recipeObject = (recipe, type) => {\n  if (type === 'meal') {\n    return {\n      id: recipe.idMeal,\n      type,\n      area: recipe.strArea,\n      category: recipe.strCategory,\n      alcoholicOrNot: '',\n      name: recipe.strMeal,\n      image: recipe.strMealThumb,\n    };\n  } else {\n    return {\n      id: recipe.idDrink,\n      type,\n      area: recipe.strArea,\n      category: recipe.strCategory,\n      alcoholicOrNot: recipe.strAlcoholic,\n      name: recipe.strDrink,\n      image: recipe.strDrinkThumb,\n    };\n  }\n}\n\nconst FavoriteButton = ({ recipe, type }) => {\n  const [NotFavorited, setNotFavorited] = useState(true);\n  const [srcIcon, setSrcIcon] = useState(whiteHeartIcon);\n  useEffect(() => {\n    if(!localStorage.getItem('favoriteRecipes')) {\n      localStorage.setItem('favoriteRecipes', JSON.stringify([]));\n    }\n  }, []);\n\n  const addToLocalStorage = () => {\n    const recipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newRecipe = recipes.concat(recipeObject(recipe, type));\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newRecipe));\n    setSrcIcon(blackHeartIcon);\n    return null;\n  };\n\n  const removeLocalStorage = () => {\n    let recipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newRecipe = recipes.filter((element) => element.id !== recipe.idMeal);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newRecipe));\n    setSrcIcon(whiteHeartIcon);\n    return null;\n  };\n\n  const handleFavorite = () => {\n    NotFavorited ? addToLocalStorage() : removeLocalStorage();\n    setNotFavorited((currentState) => !currentState);\n    return null;\n  };\n\n  return (\n      <img\n        onClick={() => handleFavorite()}\n        data-testid=\"favorite-btn\"\n        src={srcIcon} alt=\"Icone para favoritar receita\"\n      />\n  );\n};\n\nexport default FavoriteButton;\n"]},"metadata":{},"sourceType":"module"}