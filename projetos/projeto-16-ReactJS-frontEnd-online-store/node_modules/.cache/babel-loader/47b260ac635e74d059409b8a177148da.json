{"ast":null,"code":"var _jsxFileName = \"/home/jafet/projetos/sd-03-block15-project-frontend-online-store-13/src/pages/ProductDetails.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport './ProductDetails.css';\nimport Quantity from '../components/Quantity';\nimport ProductReview from '../components/ProductReview';\n\nclass ProductDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: null,\n      counter: 1,\n      attributes: []\n    };\n    this.onIncrement = this.onIncrement.bind(this);\n    this.onDecrement = this.onDecrement.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onIncrement() {\n    const {\n      available_quantity: availableQuantity\n    } = this.props.location.details.product;\n    this.setState(state => ({\n      counter: Math.min(state.counter + 1, availableQuantity)\n    }));\n  }\n\n  onDecrement() {\n    this.setState(state => ({\n      counter: Math.max(state.counter - 1, 1)\n    }));\n  }\n\n  handleClick() {\n    this.setState({\n      product: this.props.location.details.product\n    });\n  }\n\n  handleChange(opp) {\n    if (opp) {\n      this.onIncrement();\n    } else {\n      this.onDecrement();\n    }\n  }\n\n  render() {\n    const {\n      title,\n      price,\n      thumbnail,\n      attributes\n    } = this.props.location.details.product;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-page-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-h1-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      \"data-testid\": \"product-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, title), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, `R$ ${Number(price).toFixed(2)}`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"produc-details-contents\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbnail,\n      alt: `Foto do ${title}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, \"Especifica\\xE7\\xF5es T\\xE9cnicas\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, attributes.map(e => /*#__PURE__*/React.createElement(\"li\", {\n      key: e.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 39\n      }\n    }, `${e.name}: ${e.value_name}`))))), /*#__PURE__*/React.createElement(Quantity, {\n      prodQnt: this.handleChange,\n      counter: this.state.counter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/cart',\n        details: {\n          product: this.state.product,\n          qnt: this.state.counter\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      \"data-testid\": \"product-detail-add-to-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"Adicionar ao Carrinho\")), /*#__PURE__*/React.createElement(ProductReview, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default ProductDetails;","map":{"version":3,"sources":["/home/jafet/projetos/sd-03-block15-project-frontend-online-store-13/src/pages/ProductDetails.jsx"],"names":["React","Link","Quantity","ProductReview","ProductDetails","Component","constructor","props","state","product","counter","attributes","onIncrement","bind","onDecrement","handleClick","handleChange","available_quantity","availableQuantity","location","details","setState","Math","min","max","opp","render","title","price","thumbnail","Number","toFixed","map","e","id","name","value_name","pathname","qnt"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './ProductDetails.css';\nimport Quantity from '../components/Quantity';\nimport ProductReview from '../components/ProductReview';\n\nclass ProductDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: null,\n      counter: 1,\n      attributes: [],\n    };\n    this.onIncrement = this.onIncrement.bind(this);\n    this.onDecrement = this.onDecrement.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onIncrement() {\n    const { available_quantity: availableQuantity } = this.props.location.details.product;\n    this.setState((state) => ({ counter: Math.min(state.counter + 1, availableQuantity) }));\n  }\n\n  onDecrement() {\n    this.setState((state) => ({ counter: Math.max(state.counter - 1, 1) }));\n  }\n\n  handleClick() {\n    this.setState({ product: this.props.location.details.product });\n  }\n\n  handleChange(opp) {\n    if (opp) {\n      this.onIncrement();\n    } else {\n      this.onDecrement();\n    }\n  }\n\n  render() {\n    const { title, price, thumbnail, attributes } = this.props.location.details.product;\n    return (\n      <div className=\"product-details-page-container\">\n        <div className=\"product-details-h1-name\">\n          <h1 data-testid=\"product-detail-name\">{title}</h1>\n          <h2>{`R$ ${Number(price).toFixed(2)}`}</h2>\n        </div>\n        <div className=\"produc-details-contents\">\n          <div className=\"product-details-left\">\n            <img src={thumbnail} alt={`Foto do ${title}`} />\n          </div>\n          <div className=\"product-details-right\">\n            <h3>Especificações Técnicas</h3>\n            <ul>\n              {attributes.map((e) => (<li key={e.id}>{`${e.name}: ${e.value_name}`}</li>))}\n            </ul>\n          </div>\n        </div>\n        <Quantity prodQnt={this.handleChange} counter={this.state.counter} />\n        <Link\n          to={{ pathname: '/cart', details: { product: this.state.product, qnt: this.state.counter } }}\n        >\n          <button onClick={this.handleClick} data-testid=\"product-detail-add-to-cart\">\n            Adicionar ao Carrinho\n          </button>\n        </Link>\n        <ProductReview />\n      </div>\n    );\n  }\n}\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}