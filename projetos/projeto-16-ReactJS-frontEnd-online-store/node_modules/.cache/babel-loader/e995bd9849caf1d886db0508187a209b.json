{"ast":null,"code":"var _jsxFileName = \"/home/jafet/projetos/sd-03-block15-project-frontend-online-store-13/src/pages/ProductDetails.jsx\";\nimport React from 'react';\nimport './ProductDetails.css';\nimport Quantity from '../components/productDetails/Quantity';\nimport ProductReview from '../components/productDetails/ProductReview';\nimport CartIconQnt from '../components/homePage/CartIconQnt';\n\nclass ProductDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: null,\n      counter: 1 // session: [],\n\n    }; // this.addToSession = this.addToSession.bind(this);\n\n    this.onIncrement = this.onIncrement.bind(this);\n    this.onDecrement = this.onDecrement.bind(this); // this.handleClick = this.handleClick.bind(this);\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onIncrement() {\n    const {\n      available_quantity: availableQuantity\n    } = this.props.location.details.product;\n    this.setState(state => ({\n      qnt: Math.min(state.qnt + 1, availableQuantity)\n    }));\n  }\n\n  onDecrement() {\n    this.setState(state => ({\n      qnt: Math.max(state.qnt - 1, 1)\n    }));\n  } // handleClick(product, qnt) {\n  //   const { session } = this.state;\n  //   const toAdd = {\n  //     product,\n  //     qnt,\n  //   };\n  //   this.setState((state) => ({ session: [...state.session, toAdd] }));\n  //   localStorage.setItem('cart', JSON.stringify([...session, toAdd]));\n  // }\n\n\n  handleChange(opp) {\n    if (opp) {\n      this.onIncrement();\n    } else {\n      this.onDecrement();\n    }\n  }\n\n  freeShippingLabel() {\n    const {\n      shipping\n    } = this.props.location.details.product;\n\n    if (shipping.free_shipping) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        \"data-testid\": \"free-shipping\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, \"Free Shipping!\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    });\n  }\n\n  productH1Name() {\n    const {\n      title,\n      price\n    } = this.props.location.details.product;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-h1-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      \"data-testid\": \"product-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, title), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, `R$ ${Number(price).toFixed(2)}`), this.freeShippingLabel());\n  }\n\n  productPhoto() {\n    const {\n      title,\n      thumbnail\n    } = this.props.location.details.product;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbnail,\n      alt: `Foto do ${title}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  addToCartButton() {\n    const {\n      counter\n    } = this.state;\n    const {\n      func\n    } = this.props.location;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => func(this.props.location.details.product, counter),\n      \"data-testid\": \"product-detail-add-to-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, \"Adicionar ao Carrinho\");\n  }\n\n  render() {\n    const {\n      attributes\n    } = this.props.location.details.product;\n    const {\n      counter\n    } = this.state;\n    const {\n      numDisplay\n    } = this.props.location;\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CartIconQnt, {\n      numb: numDisplay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-page-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, this.productH1Name(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"produc-details-contents\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, this.productPhoto(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, \"Especifica\\xE7\\xF5es T\\xE9cnicas\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, attributes.map(e => /*#__PURE__*/React.createElement(\"li\", {\n      key: e.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 41\n      }\n    }, `${e.name}: ${e.value_name}`))))), /*#__PURE__*/React.createElement(Quantity, {\n      prodQnt: this.handleChange,\n      counter: counter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }), this.addToCartButton(), /*#__PURE__*/React.createElement(ProductReview, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default ProductDetails;","map":{"version":3,"sources":["/home/jafet/projetos/sd-03-block15-project-frontend-online-store-13/src/pages/ProductDetails.jsx"],"names":["React","Quantity","ProductReview","CartIconQnt","ProductDetails","Component","constructor","props","state","product","counter","onIncrement","bind","onDecrement","handleChange","available_quantity","availableQuantity","location","details","setState","qnt","Math","min","max","opp","freeShippingLabel","shipping","free_shipping","productH1Name","title","price","Number","toFixed","productPhoto","thumbnail","addToCartButton","func","render","attributes","numDisplay","console","log","map","e","id","name","value_name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './ProductDetails.css';\nimport Quantity from '../components/productDetails/Quantity';\nimport ProductReview from '../components/productDetails/ProductReview';\nimport CartIconQnt from '../components/homePage/CartIconQnt';\n\nclass ProductDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: null,\n      counter: 1,\n      // session: [],\n    };\n    // this.addToSession = this.addToSession.bind(this);\n\n    this.onIncrement = this.onIncrement.bind(this);\n    this.onDecrement = this.onDecrement.bind(this);\n    // this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onIncrement() {\n    const { available_quantity: availableQuantity } = this.props.location.details.product;\n    this.setState((state) => ({ qnt: Math.min(state.qnt + 1, availableQuantity) }));\n  }\n\n  onDecrement() {\n    this.setState((state) => ({ qnt: Math.max(state.qnt - 1, 1) }));\n  }\n\n  // handleClick(product, qnt) {\n  //   const { session } = this.state;\n  //   const toAdd = {\n  //     product,\n  //     qnt,\n  //   };\n  //   this.setState((state) => ({ session: [...state.session, toAdd] }));\n  //   localStorage.setItem('cart', JSON.stringify([...session, toAdd]));\n  // }\n\n  handleChange(opp) {\n    if (opp) {\n      this.onIncrement();\n    } else {\n      this.onDecrement();\n    }\n  }\n\n  freeShippingLabel() {\n    const { shipping } = this.props.location.details.product;\n    if (shipping.free_shipping) {\n      return (\n        <span data-testid=\"free-shipping\">Free Shipping!</span>\n      );\n    }\n    return (\n      <span />\n    );\n  }\n\n  productH1Name() {\n    const { title, price } = this.props.location.details.product;\n    return (\n      <div className=\"product-details-h1-name\">\n        <h1 data-testid=\"product-detail-name\">{title}</h1>\n        <h2>{`R$ ${Number(price).toFixed(2)}`}</h2>\n        {this.freeShippingLabel()}\n      </div>\n    );\n  }\n\n  productPhoto() {\n    const { title, thumbnail } = this.props.location.details.product;\n    return (\n      <div className=\"product-details-left\">\n        <img src={thumbnail} alt={`Foto do ${title}`} />\n      </div>\n    );\n  }\n\n  addToCartButton() {\n    const { counter } = this.state;\n    const { func } = this.props.location;\n    return (\n      <button\n        type=\"button\"\n        onClick={() => func(this.props.location.details.product, counter)}\n        data-testid=\"product-detail-add-to-cart\"\n      >\n        Adicionar ao Carrinho\n      </button>\n    );\n  }\n\n  render() {\n    const { attributes } = this.props.location.details.product;\n    const { counter } = this.state;\n    const { numDisplay } = this.props.location;\n    console.log(this.props);\n    return (\n      <div>\n        <CartIconQnt numb={numDisplay} />\n        <div className=\"product-details-page-container\">\n          {this.productH1Name()}\n          <div className=\"produc-details-contents\">\n            {this.productPhoto()}\n            <div className=\"product-details-right\">\n              <h3>Especificações Técnicas</h3>\n              <ul>\n                {attributes.map((e) => (<li key={e.id}>{`${e.name}: ${e.value_name}`}</li>))}\n              </ul>\n            </div>\n          </div>\n          <Quantity prodQnt={this.handleChange} counter={counter} />\n          {this.addToCartButton()}\n          <ProductReview />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}